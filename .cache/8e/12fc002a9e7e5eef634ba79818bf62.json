{"id":"fFSE","dependencies":[{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/dist/expressApollo.js.map","includedInParent":true,"mtime":1558453009111},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/src/expressApollo.ts","includedInParent":true,"mtime":1558453009223},{"name":"/Users/sangho/dev/nomad/prismagram/package.json","includedInParent":true,"mtime":1558526927558},{"name":"/Users/sangho/dev/nomad/prismagram/.babelrc","includedInParent":true,"mtime":1558528163945},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/package.json","includedInParent":true,"mtime":0},{"name":"url","loc":{"line":3,"column":18},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/dist/expressApollo.js","resolved":"/Users/sangho/.config/yarn/global/node_modules/url/url.js"},{"name":"apollo-server-core","loc":{"line":4,"column":35},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/dist/expressApollo.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/index.js"},{"name":"apollo-server-module-graphiql","loc":{"line":5,"column":23},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/dist/expressApollo.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-module-graphiql/dist/index.js"},{"name":"buffer","parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-express/dist/expressApollo.js","resolved":"/Users/sangho/.config/yarn/global/node_modules/buffer/index.js"}],"generated":{"js":"var Buffer = require(\"buffer\").Buffer;\nvar e=require(\"buffer\").Buffer;Object.defineProperty(exports,\"__esModule\",{value:!0});var r=require(\"url\"),t=require(\"apollo-server-core\"),n=require(\"apollo-server-module-graphiql\");function o(r){if(!r)throw new Error(\"Apollo Server requires options.\");if(arguments.length>1)throw new Error(\"Apollo Server expects exactly one argument, got \"+arguments.length);return function(n,o,u){t.runHttpQuery([n,o],{method:n.method,options:r,query:\"POST\"===n.method?n.body:n.query}).then(function(r){o.setHeader(\"Content-Type\",\"application/json\"),o.setHeader(\"Content-Length\",e.byteLength(r,\"utf8\").toString()),o.write(r),o.end()},function(e){if(\"HttpQueryError\"!==e.name)return u(e);e.headers&&Object.keys(e.headers).forEach(function(r){o.setHeader(r,e.headers[r])}),o.statusCode=e.statusCode,o.write(e.message),o.end()})}}function u(e){return function(t,o,u){var s=t.url&&r.parse(t.url,!0).query;n.resolveGraphiQLString(s,e,t).then(function(e){o.setHeader(\"Content-Type\",\"text/html\"),o.write(e),o.end()},function(e){return u(e)})}}exports.graphqlExpress=o,exports.graphiqlExpress=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":0}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":4}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":6}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":14}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":24}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":31}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":38}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":53}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":61}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":74}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":75}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":82}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":2,"column":86}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":2,"column":27},"generated":{"line":2,"column":90}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":2,"column":27},"generated":{"line":2,"column":92}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":2,"column":27},"generated":{"line":2,"column":100}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":2,"column":107}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":2,"column":109}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":2,"column":117}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":8,"column":58},"generated":{"line":2,"column":139}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":8,"column":58},"generated":{"line":2,"column":141}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":8,"column":58},"generated":{"line":2,"column":149}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":2,"column":182}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":2,"column":191}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":2,"column":193}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":2,"column":196}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":28,"column":7},"generated":{"line":2,"column":200}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":2,"column":202}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":2,"column":208}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":2,"column":212}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":2,"column":218}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":2,"column":253}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":2,"column":256}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":2,"column":266}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":32,"column":25},"generated":{"line":2,"column":273}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":2,"column":275}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":34,"column":10},"generated":{"line":2,"column":281}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":2,"column":285}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":2,"column":291}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":35,"column":57},"generated":{"line":2,"column":342}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":35,"column":67},"generated":{"line":2,"column":352}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":76,"column":2},"generated":{"line":2,"column":360}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":39,"column":25},"generated":{"line":2,"column":367}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":2,"column":376}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":2,"column":378}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":2,"column":380}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":2,"column":383}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":2,"column":385}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":2,"column":398}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":18},"generated":{"line":2,"column":399}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":23},"generated":{"line":2,"column":401}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":44,"column":29},"generated":{"line":2,"column":404}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":2,"column":405}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":2,"column":412}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":45,"column":18},"generated":{"line":2,"column":414}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":2,"column":421}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":2,"column":429}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":6},"generated":{"line":2,"column":431}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":28},"generated":{"line":2,"column":437}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":2,"column":446}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":2,"column":448}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":37},"generated":{"line":2,"column":455}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":41},"generated":{"line":2,"column":457}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":48},"generated":{"line":2,"column":462}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":47,"column":52},"generated":{"line":2,"column":464}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":48,"column":7},"generated":{"line":2,"column":472}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":2,"column":477}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":49,"column":6},"generated":{"line":2,"column":486}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":2,"column":489}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":2,"column":491}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":2,"column":501}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":50,"column":38},"generated":{"line":2,"column":516}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":51,"column":8},"generated":{"line":2,"column":536}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":2,"column":538}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":52,"column":10},"generated":{"line":2,"column":548}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":53,"column":10},"generated":{"line":2,"column":565}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":53,"column":17},"generated":{"line":2,"column":567}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":53,"column":28},"generated":{"line":2,"column":578}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":53,"column":41},"generated":{"line":2,"column":580}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":53,"column":49},"generated":{"line":2,"column":588}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":2,"column":600}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":2,"column":602}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":55,"column":18},"generated":{"line":2,"column":608}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":2,"column":611}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":2,"column":613}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":2,"column":620}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":58,"column":7},"generated":{"line":2,"column":629}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":2,"column":632}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":2,"column":635}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":59,"column":33},"generated":{"line":2,"column":654}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":59,"column":39},"generated":{"line":2,"column":656}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":2,"column":661}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":60,"column":17},"generated":{"line":2,"column":668}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":2,"column":670}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":63,"column":12},"generated":{"line":2,"column":673}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":2,"column":675}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":2,"column":684}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":17},"generated":{"line":2,"column":691}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":22},"generated":{"line":2,"column":696}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":28},"generated":{"line":2,"column":698}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":37},"generated":{"line":2,"column":707}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":2,"column":715}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":2,"column":724}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":12},"generated":{"line":2,"column":727}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":16},"generated":{"line":2,"column":729}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":26},"generated":{"line":2,"column":739}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":2,"column":741}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":40},"generated":{"line":2,"column":743}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":65,"column":48},"generated":{"line":2,"column":751}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":69,"column":8},"generated":{"line":2,"column":757}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":2,"column":759}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":69,"column":25},"generated":{"line":2,"column":770}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":69,"column":31},"generated":{"line":2,"column":772}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":2,"column":783}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":70,"column":12},"generated":{"line":2,"column":785}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":70,"column":18},"generated":{"line":2,"column":791}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":2,"column":793}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":2,"column":802}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":2,"column":804}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":813}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":2,"column":822}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":97,"column":2},"generated":{"line":2,"column":824}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":115,"column":2},"generated":{"line":2,"column":827}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":99,"column":26},"generated":{"line":2,"column":834}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":2,"column":843}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":101,"column":4},"generated":{"line":2,"column":845}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":2,"column":847}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":4},"generated":{"line":2,"column":850}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":2,"column":854}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":18},"generated":{"line":2,"column":856}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":22},"generated":{"line":2,"column":858}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":29},"generated":{"line":2,"column":863}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":33},"generated":{"line":2,"column":865}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":39},"generated":{"line":2,"column":871}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":43},"generated":{"line":2,"column":873}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":48},"generated":{"line":2,"column":878}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":104,"column":54},"generated":{"line":2,"column":881}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":4},"generated":{"line":2,"column":887}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":2,"column":889}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":35},"generated":{"line":2,"column":911}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":42},"generated":{"line":2,"column":913}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":51},"generated":{"line":2,"column":915}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":105,"column":56},"generated":{"line":2,"column":918}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":2,"column":923}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":2,"column":932}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":2,"column":935}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":107,"column":12},"generated":{"line":2,"column":937}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":2,"column":947}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":107,"column":38},"generated":{"line":2,"column":962}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":2,"column":975}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":108,"column":12},"generated":{"line":2,"column":977}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":108,"column":18},"generated":{"line":2,"column":983}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":2,"column":986}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":109,"column":12},"generated":{"line":2,"column":988}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":111,"column":6},"generated":{"line":2,"column":995}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":111,"column":6},"generated":{"line":2,"column":1004}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":111,"column":15},"generated":{"line":2,"column":1007}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":111,"column":15},"generated":{"line":2,"column":1014}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":111,"column":20},"generated":{"line":2,"column":1016}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":2,"column":1022}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":77,"column":1},"generated":{"line":2,"column":1030}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":77,"column":1},"generated":{"line":2,"column":1045}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":96,"column":0},"generated":{"line":2,"column":1047}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":1055}},{"source":"../src/expressApollo.ts","name":null,"original":{"line":116,"column":1},"generated":{"line":2,"column":1071}}],"sources":{"../src/expressApollo.ts":"import * as express from 'express';\nimport * as url from 'url';\nimport {\n  GraphQLOptions,\n  HttpQueryError,\n  runHttpQuery,\n} from 'apollo-server-core';\nimport * as GraphiQL from 'apollo-server-module-graphiql';\n\nexport interface ExpressGraphQLOptionsFunction {\n  (req?: express.Request, res?: express.Response):\n    | GraphQLOptions\n    | Promise<GraphQLOptions>;\n}\n\n// Design principles:\n// - there is just one way allowed: POST request with JSON body. Nothing else.\n// - simple, fast and secure\n//\n\nexport interface ExpressHandler {\n  (req: express.Request, res: express.Response, next): void;\n}\n\nexport function graphqlExpress(\n  options: GraphQLOptions | ExpressGraphQLOptionsFunction,\n): ExpressHandler {\n  if (!options) {\n    throw new Error('Apollo Server requires options.');\n  }\n\n  if (arguments.length > 1) {\n    // TODO: test this\n    throw new Error(\n      `Apollo Server expects exactly one argument, got ${arguments.length}`,\n    );\n  }\n\n  const graphqlHandler = (\n    req: express.Request,\n    res: express.Response,\n    next,\n  ): void => {\n    runHttpQuery([req, res], {\n      method: req.method,\n      options: options,\n      query: req.method === 'POST' ? req.body : req.query,\n    }).then(\n      gqlResponse => {\n        res.setHeader('Content-Type', 'application/json');\n        res.setHeader(\n          'Content-Length',\n          Buffer.byteLength(gqlResponse, 'utf8').toString(),\n        );\n        res.write(gqlResponse);\n        res.end();\n      },\n      (error: HttpQueryError) => {\n        if ('HttpQueryError' !== error.name) {\n          return next(error);\n        }\n\n        if (error.headers) {\n          Object.keys(error.headers).forEach(header => {\n            res.setHeader(header, error.headers[header]);\n          });\n        }\n\n        res.statusCode = error.statusCode;\n        res.write(error.message);\n        res.end();\n      },\n    );\n  };\n\n  return graphqlHandler;\n}\n\nexport interface ExpressGraphiQLOptionsFunction {\n  (req?: express.Request):\n    | GraphiQL.GraphiQLData\n    | Promise<GraphiQL.GraphiQLData>;\n}\n\n/* This middleware returns the html for the GraphiQL interactive query UI\n *\n * GraphiQLData arguments\n *\n * - endpointURL: the relative or absolute URL for the endpoint which GraphiQL will make queries to\n * - (optional) query: the GraphQL query to pre-fill in the GraphiQL UI\n * - (optional) variables: a JS object of variables to pre-fill in the GraphiQL UI\n * - (optional) operationName: the operationName to pre-fill in the GraphiQL UI\n * - (optional) result: the result of the query to pre-fill in the GraphiQL UI\n */\n\nexport function graphiqlExpress(\n  options: GraphiQL.GraphiQLData | ExpressGraphiQLOptionsFunction,\n) {\n  const graphiqlHandler = (\n    req: express.Request,\n    res: express.Response,\n    next,\n  ) => {\n    const query = req.url && url.parse(req.url, true).query;\n    GraphiQL.resolveGraphiQLString(query, options, req).then(\n      graphiqlString => {\n        res.setHeader('Content-Type', 'text/html');\n        res.write(graphiqlString);\n        res.end();\n      },\n      error => next(error),\n    );\n  };\n\n  return graphiqlHandler;\n}\n"},"lineCount":null}},"error":null,"hash":"f7234d0b4eab1fcee9289e75a3062f9b","cacheData":{"env":{}}}