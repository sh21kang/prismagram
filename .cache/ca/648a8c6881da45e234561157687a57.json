{"id":"HE9H","dependencies":[{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-cache-control/lib/index.js.map","includedInParent":true,"mtime":1523924208000},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-cache-control/src/index.ts","includedInParent":true,"mtime":1523924030000},{"name":"/Users/sangho/dev/nomad/prismagram/package.json","includedInParent":true,"mtime":1558526927558},{"name":"/Users/sangho/dev/nomad/prismagram/.babelrc","includedInParent":true,"mtime":1558528163945},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-cache-control/package.json","includedInParent":true,"mtime":1523924195000},{"name":"graphql","loc":{"line":11,"column":24},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-cache-control/lib/index.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/graphql/index.mjs"}],"generated":{"js":"\"use strict\";var e=this&&this.__assign||Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(exports,\"__esModule\",{value:!0});var t,a=require(\"graphql\");!function(e){e.Public=\"PUBLIC\",e.Private=\"PRIVATE\"}(t=exports.CacheScope||(exports.CacheScope={}));var n=function(){function t(e){void 0===e&&(e={}),this.hints=new Map,this.defaultMaxAge=e.defaultMaxAge||0}return t.prototype.willResolveField=function(e,t,n,o){var s=this,c={},u=a.getNamedType(o.returnType);(u instanceof a.GraphQLObjectType||u instanceof a.GraphQLInterfaceType)&&u.astNode&&(c=i(c,r(u.astNode.directives)));var p=o.parentType;if(p instanceof a.GraphQLObjectType){var h=p.getFields()[o.fieldName];h.astNode&&(c=i(c,r(h.astNode.directives)))}u instanceof a.GraphQLObjectType&&void 0===c.maxAge&&(c.maxAge=this.defaultMaxAge),void 0===c.maxAge&&void 0===c.scope||this.addHint(o.path,c),o.cacheControl={setCacheHint:function(e){s.addHint(o.path,e)},cacheHint:c}},t.prototype.addHint=function(e,t){var a=this.hints.get(e);a?this.hints.set(e,i(a,t)):this.hints.set(e,t)},t.prototype.format=function(){return[\"cacheControl\",{version:1,hints:Array.from(this.hints).map(function(t){var n=t[0],r=t[1];return e({path:a.responsePathAsArray(n)},r)})}]},t}();function r(e){if(e){var t=e.find(function(e){return\"cacheControl\"===e.name.value});if(t&&t.arguments){var a=t.arguments.find(function(e){return\"maxAge\"===e.name.value}),n=t.arguments.find(function(e){return\"scope\"===e.name.value});return{maxAge:a&&a.value&&\"IntValue\"===a.value.kind?parseInt(a.value.value):void 0,scope:n&&n.value&&\"EnumValue\"===n.value.kind?n.value.value:void 0}}}}function i(e,t){return t?{maxAge:void 0!==t.maxAge?t.maxAge:e.maxAge,scope:t.scope||e.scope}:e}exports.CacheControlExtension=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":0}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":13}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":17}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":19}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":25}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":30}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":40}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":47}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":55}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":64}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":67}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":71}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":75}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":77}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":79}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":81}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":83}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":93}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":100}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":102}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":104}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":108}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":112}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":116}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":121}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":123}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":133}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":136}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":143}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":153}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":168}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":173}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":175}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":180}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":182}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":185}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":187}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":191}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":198}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":201}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":208}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":223}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":231}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":244}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":245}},{"source":"../src/index.ts","name":null,"original":{"line":152,"column":1},"generated":{"line":1,"column":252}},{"source":"../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":256}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":260}},{"source":"../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":262}},{"source":"../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":264}},{"source":"../src/index.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":272}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":284}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":293}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":296}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":298}},{"source":"../src/index.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":305}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":314}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":316}},{"source":"../src/index.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":324}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":334}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":335}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":337}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":345}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":358}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":366}},{"source":"../src/index.ts","name":null,"original":{"line":23,"column":22},"generated":{"line":1,"column":377}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":382}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":386}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":388}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":399}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":2},"generated":{"line":1,"column":408}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":410}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":418}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":422}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":426}},{"source":"../src/index.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":428}},{"source":"../src/index.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":432}},{"source":"../src/index.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":437}},{"source":"../src/index.ts","name":null,"original":{"line":48,"column":48},"generated":{"line":1,"column":443}},{"source":"../src/index.ts","name":null,"original":{"line":48,"column":52},"generated":{"line":1,"column":447}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":451}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":456}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":25},"generated":{"line":1,"column":470}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":33},"generated":{"line":1,"column":472}},{"source":"../src/index.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":1,"column":487}},{"source":"../src/index.ts","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":489}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":496}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":498}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":508}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":525}},{"source":"../src/index.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":534}},{"source":"../src/index.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":536}},{"source":"../src/index.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":538}},{"source":"../src/index.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":540}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":543}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":547}},{"source":"../src/index.ts","name":null,"original":{"line":50,"column":2},"generated":{"line":1,"column":549}},{"source":"../src/index.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":554}},{"source":"../src/index.ts","name":null,"original":{"line":56,"column":26},"generated":{"line":1,"column":556}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":559}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":23},"generated":{"line":1,"column":561}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":23},"generated":{"line":1,"column":563}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":36},"generated":{"line":1,"column":576}},{"source":"../src/index.ts","name":null,"original":{"line":60,"column":41},"generated":{"line":1,"column":578}},{"source":"../src/index.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":591}},{"source":"../src/index.ts","name":null,"original":{"line":61,"column":30},"generated":{"line":1,"column":604}},{"source":"../src/index.ts","name":null,"original":{"line":61,"column":30},"generated":{"line":1,"column":606}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":9},"generated":{"line":1,"column":625}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":638}},{"source":"../src/index.ts","name":null,"original":{"line":62,"column":31},"generated":{"line":1,"column":640}},{"source":"../src/index.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":663}},{"source":"../src/index.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":1,"column":665}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":675}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":15},"generated":{"line":1,"column":677}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":26},"generated":{"line":1,"column":679}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":32},"generated":{"line":1,"column":681}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":56},"generated":{"line":1,"column":683}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":67},"generated":{"line":1,"column":685}},{"source":"../src/index.ts","name":null,"original":{"line":64,"column":75},"generated":{"line":1,"column":693}},{"source":"../src/index.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":707}},{"source":"../src/index.ts","name":null,"original":{"line":70,"column":10},"generated":{"line":1,"column":711}},{"source":"../src/index.ts","name":null,"original":{"line":70,"column":23},"generated":{"line":1,"column":713}},{"source":"../src/index.ts","name":null,"original":{"line":70,"column":28},"generated":{"line":1,"column":715}},{"source":"../src/index.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":726}},{"source":"../src/index.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":729}},{"source":"../src/index.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":742}},{"source":"../src/index.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":744}},{"source":"../src/index.ts","name":null,"original":{"line":71,"column":49},"generated":{"line":1,"column":762}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":1,"column":763}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":1,"column":767}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":23},"generated":{"line":1,"column":769}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":1,"column":771}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":46},"generated":{"line":1,"column":783}},{"source":"../src/index.ts","name":null,"original":{"line":72,"column":51},"generated":{"line":1,"column":785}},{"source":"../src/index.ts","name":null,"original":{"line":73,"column":10},"generated":{"line":1,"column":796}},{"source":"../src/index.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":1,"column":798}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":808}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":810}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":26},"generated":{"line":1,"column":812}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":32},"generated":{"line":1,"column":814}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":56},"generated":{"line":1,"column":816}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":65},"generated":{"line":1,"column":818}},{"source":"../src/index.ts","name":null,"original":{"line":74,"column":73},"generated":{"line":1,"column":826}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":8},"generated":{"line":1,"column":840}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":30},"generated":{"line":1,"column":853}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":30},"generated":{"line":1,"column":855}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":67},"generated":{"line":1,"column":879}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":51},"generated":{"line":1,"column":883}},{"source":"../src/index.ts","name":null,"original":{"line":82,"column":56},"generated":{"line":1,"column":885}},{"source":"../src/index.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":894}},{"source":"../src/index.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":896}},{"source":"../src/index.ts","name":null,"original":{"line":83,"column":20},"generated":{"line":1,"column":903}},{"source":"../src/index.ts","name":null,"original":{"line":83,"column":25},"generated":{"line":1,"column":908}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":24},"generated":{"line":1,"column":928}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":932}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":13},"generated":{"line":1,"column":934}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":52},"generated":{"line":1,"column":947}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":37},"generated":{"line":1,"column":951}},{"source":"../src/index.ts","name":null,"original":{"line":86,"column":42},"generated":{"line":1,"column":953}},{"source":"../src/index.ts","name":null,"original":{"line":87,"column":11},"generated":{"line":1,"column":960}},{"source":"../src/index.ts","name":null,"original":{"line":87,"column":11},"generated":{"line":1,"column":965}},{"source":"../src/index.ts","name":null,"original":{"line":87,"column":19},"generated":{"line":1,"column":973}},{"source":"../src/index.ts","name":null,"original":{"line":87,"column":24},"generated":{"line":1,"column":975}},{"source":"../src/index.ts","name":null,"original":{"line":87,"column":30},"generated":{"line":1,"column":980}},{"source":"../src/index.ts","name":null,"original":{"line":90,"column":4},"generated":{"line":1,"column":983}},{"source":"../src/index.ts","name":null,"original":{"line":90,"column":9},"generated":{"line":1,"column":985}},{"source":"../src/index.ts","name":null,"original":{"line":90,"column":24},"generated":{"line":1,"column":998}},{"source":"../src/index.ts","name":null,"original":{"line":91,"column":6},"generated":{"line":1,"column":999}},{"source":"../src/index.ts","name":null,"original":{"line":91,"column":20},"generated":{"line":1,"column":1012}},{"source":"../src/index.ts","name":null,"original":{"line":91,"column":21},"generated":{"line":1,"column":1021}},{"source":"../src/index.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":1024}},{"source":"../src/index.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1026}},{"source":"../src/index.ts","name":null,"original":{"line":92,"column":21},"generated":{"line":1,"column":1034}},{"source":"../src/index.ts","name":null,"original":{"line":92,"column":26},"generated":{"line":1,"column":1036}},{"source":"../src/index.ts","name":null,"original":{"line":92,"column":32},"generated":{"line":1,"column":1041}},{"source":"../src/index.ts","name":null,"original":{"line":94,"column":6},"generated":{"line":1,"column":1045}},{"source":"../src/index.ts","name":null,"original":{"line":94,"column":17},"generated":{"line":1,"column":1055}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":1059}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":1061}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":1071}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":1079}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":10},"generated":{"line":1,"column":1088}},{"source":"../src/index.ts","name":null,"original":{"line":98,"column":30},"generated":{"line":1,"column":1090}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1093}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":1097}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":30},"generated":{"line":1,"column":1099}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":35},"generated":{"line":1,"column":1104}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":41},"generated":{"line":1,"column":1110}},{"source":"../src/index.ts","name":null,"original":{"line":99,"column":45},"generated":{"line":1,"column":1114}},{"source":"../src/index.ts","name":null,"original":{"line":100,"column":8},"generated":{"line":1,"column":1117}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":1119}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":11},"generated":{"line":1,"column":1124}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":17},"generated":{"line":1,"column":1130}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":1134}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":27},"generated":{"line":1,"column":1136}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":38},"generated":{"line":1,"column":1138}},{"source":"../src/index.ts","name":null,"original":{"line":101,"column":57},"generated":{"line":1,"column":1140}},{"source":"../src/index.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":1144}},{"source":"../src/index.ts","name":null,"original":{"line":103,"column":11},"generated":{"line":1,"column":1149}},{"source":"../src/index.ts","name":null,"original":{"line":103,"column":17},"generated":{"line":1,"column":1155}},{"source":"../src/index.ts","name":null,"original":{"line":103,"column":21},"generated":{"line":1,"column":1159}},{"source":"../src/index.ts","name":null,"original":{"line":103,"column":27},"generated":{"line":1,"column":1161}},{"source":"../src/index.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1165}},{"source":"../src/index.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1167}},{"source":"../src/index.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1177}},{"source":"../src/index.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":1184}},{"source":"../src/index.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1195}},{"source":"../src/index.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":1201}},{"source":"../src/index.ts","name":null,"original":{"line":109,"column":6},"generated":{"line":1,"column":1202}},{"source":"../src/index.ts","name":null,"original":{"line":110,"column":6},"generated":{"line":1,"column":1217}},{"source":"../src/index.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":1218}},{"source":"../src/index.ts","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":1226}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":8},"generated":{"line":1,"column":1228}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":15},"generated":{"line":1,"column":1234}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":21},"generated":{"line":1,"column":1240}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":26},"generated":{"line":1,"column":1245}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":31},"generated":{"line":1,"column":1250}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":38},"generated":{"line":1,"column":1257}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":42},"generated":{"line":1,"column":1261}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":43},"generated":{"line":1,"column":1270}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":44},"generated":{"line":1,"column":1273}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":44},"generated":{"line":1,"column":1277}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":44},"generated":{"line":1,"column":1279}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":44},"generated":{"line":1,"column":1281}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":50},"generated":{"line":1,"column":1284}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":50},"generated":{"line":1,"column":1286}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":50},"generated":{"line":1,"column":1288}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":60},"generated":{"line":1,"column":1291}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":60},"generated":{"line":1,"column":1298}},{"source":"../src/index.ts","name":null,"original":{"line":112,"column":60},"generated":{"line":1,"column":1300}},{"source":"../src/index.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":1301}},{"source":"../src/index.ts","name":null,"original":{"line":113,"column":16},"generated":{"line":1,"column":1306}},{"source":"../src/index.ts","name":null,"original":{"line":113,"column":16},"generated":{"line":1,"column":1308}},{"source":"../src/index.ts","name":null,"original":{"line":113,"column":36},"generated":{"line":1,"column":1328}},{"source":"../src/index.ts","name":null,"original":{"line":114,"column":13},"generated":{"line":1,"column":1332}},{"source":"../src/index.ts","name":null,"original":{"line":119,"column":0},"generated":{"line":1,"column":1340}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":0},"generated":{"line":1,"column":1342}},{"source":"../src/index.ts","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":1345}},{"source":"../src/index.ts","name":null,"original":{"line":121,"column":0},"generated":{"line":1,"column":1354}},{"source":"../src/index.ts","name":null,"original":{"line":121,"column":33},"generated":{"line":1,"column":1356}},{"source":"../src/index.ts","name":null,"original":{"line":122,"column":6},"generated":{"line":1,"column":1359}},{"source":"../src/index.ts","name":null,"original":{"line":122,"column":7},"generated":{"line":1,"column":1362}},{"source":"../src/index.ts","name":null,"original":{"line":122,"column":6},"generated":{"line":1,"column":1364}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1365}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1369}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":32},"generated":{"line":1,"column":1371}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":43},"generated":{"line":1,"column":1373}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":48},"generated":{"line":1,"column":1378}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":48},"generated":{"line":1,"column":1387}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":61},"generated":{"line":1,"column":1390}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":86},"generated":{"line":1,"column":1396}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":61},"generated":{"line":1,"column":1413}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":71},"generated":{"line":1,"column":1415}},{"source":"../src/index.ts","name":null,"original":{"line":124,"column":76},"generated":{"line":1,"column":1420}},{"source":"../src/index.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":1428}},{"source":"../src/index.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":1431}},{"source":"../src/index.ts","name":null,"original":{"line":127,"column":7},"generated":{"line":1,"column":1434}},{"source":"../src/index.ts","name":null,"original":{"line":127,"column":29},"generated":{"line":1,"column":1436}},{"source":"../src/index.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":1446}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1447}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1451}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":25},"generated":{"line":1,"column":1453}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":47},"generated":{"line":1,"column":1455}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":57},"generated":{"line":1,"column":1465}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":62},"generated":{"line":1,"column":1470}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":62},"generated":{"line":1,"column":1479}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":74},"generated":{"line":1,"column":1482}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":98},"generated":{"line":1,"column":1488}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":74},"generated":{"line":1,"column":1499}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":83},"generated":{"line":1,"column":1501}},{"source":"../src/index.ts","name":null,"original":{"line":129,"column":88},"generated":{"line":1,"column":1506}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":8},"generated":{"line":1,"column":1514}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":24},"generated":{"line":1,"column":1516}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":46},"generated":{"line":1,"column":1518}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":56},"generated":{"line":1,"column":1528}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":61},"generated":{"line":1,"column":1533}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":61},"generated":{"line":1,"column":1542}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":73},"generated":{"line":1,"column":1545}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":97},"generated":{"line":1,"column":1551}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":73},"generated":{"line":1,"column":1561}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":82},"generated":{"line":1,"column":1563}},{"source":"../src/index.ts","name":null,"original":{"line":130,"column":87},"generated":{"line":1,"column":1568}},{"source":"../src/index.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1576}},{"source":"../src/index.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1582}},{"source":"../src/index.ts","name":null,"original":{"line":134,"column":4},"generated":{"line":1,"column":1583}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":6},"generated":{"line":1,"column":1590}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":24},"generated":{"line":1,"column":1593}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":39},"generated":{"line":1,"column":1595}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":78},"generated":{"line":1,"column":1602}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":48},"generated":{"line":1,"column":1615}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":63},"generated":{"line":1,"column":1617}},{"source":"../src/index.ts","name":null,"original":{"line":135,"column":69},"generated":{"line":1,"column":1623}},{"source":"../src/index.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":1628}},{"source":"../src/index.ts","name":null,"original":{"line":136,"column":19},"generated":{"line":1,"column":1637}},{"source":"../src/index.ts","name":null,"original":{"line":136,"column":34},"generated":{"line":1,"column":1639}},{"source":"../src/index.ts","name":null,"original":{"line":136,"column":40},"generated":{"line":1,"column":1645}},{"source":"../src/index.ts","name":null,"original":{"line":137,"column":10},"generated":{"line":1,"column":1657}},{"source":"../src/index.ts","name":null,"original":{"line":138,"column":4},"generated":{"line":1,"column":1659}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1665}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":23},"generated":{"line":1,"column":1668}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":37},"generated":{"line":1,"column":1670}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":75},"generated":{"line":1,"column":1677}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":46},"generated":{"line":1,"column":1691}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":60},"generated":{"line":1,"column":1693}},{"source":"../src/index.ts","name":null,"original":{"line":139,"column":66},"generated":{"line":1,"column":1699}},{"source":"../src/index.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":1704}},{"source":"../src/index.ts","name":null,"original":{"line":140,"column":24},"generated":{"line":1,"column":1706}},{"source":"../src/index.ts","name":null,"original":{"line":140,"column":30},"generated":{"line":1,"column":1712}},{"source":"../src/index.ts","name":null,"original":{"line":141,"column":10},"generated":{"line":1,"column":1723}},{"source":"../src/index.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":1728}},{"source":"../src/index.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":1737}},{"source":"../src/index.ts","name":null,"original":{"line":145,"column":20},"generated":{"line":1,"column":1739}},{"source":"../src/index.ts","name":null,"original":{"line":145,"column":37},"generated":{"line":1,"column":1741}},{"source":"../src/index.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":1,"column":1744}},{"source":"../src/index.ts","name":null,"original":{"line":146,"column":7},"generated":{"line":1,"column":1751}},{"source":"../src/index.ts","name":null,"original":{"line":148,"column":9},"generated":{"line":1,"column":1753}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":4},"generated":{"line":1,"column":1754}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":33},"generated":{"line":1,"column":1766}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":12},"generated":{"line":1,"column":1770}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":22},"generated":{"line":1,"column":1772}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":45},"generated":{"line":1,"column":1779}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":55},"generated":{"line":1,"column":1781}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":64},"generated":{"line":1,"column":1788}},{"source":"../src/index.ts","name":null,"original":{"line":149,"column":69},"generated":{"line":1,"column":1790}},{"source":"../src/index.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":1,"column":1797}},{"source":"../src/index.ts","name":null,"original":{"line":150,"column":11},"generated":{"line":1,"column":1803}},{"source":"../src/index.ts","name":null,"original":{"line":150,"column":21},"generated":{"line":1,"column":1805}},{"source":"../src/index.ts","name":null,"original":{"line":150,"column":30},"generated":{"line":1,"column":1812}},{"source":"../src/index.ts","name":null,"original":{"line":150,"column":35},"generated":{"line":1,"column":1814}},{"source":"../src/index.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":1,"column":1821}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":1823}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":1831}},{"source":"../src/index.ts","name":null,"original":{"line":41,"column":13},"generated":{"line":1,"column":1853}}],"sources":{"../src/index.ts":"import {\n  DirectiveNode,\n  getNamedType,\n  GraphQLInterfaceType,\n  GraphQLObjectType,\n  GraphQLResolveInfo,\n  ResponsePath,\n  responsePathAsArray\n} from 'graphql';\n\nimport { GraphQLExtension } from 'graphql-extensions';\n\nexport interface CacheControlFormat {\n  version: 1;\n  hints: ({ path: (string | number)[] } & CacheHint)[];\n}\n\nexport interface CacheHint {\n  maxAge?: number;\n  scope?: CacheScope;\n}\n\nexport enum CacheScope {\n  Public = 'PUBLIC',\n  Private = 'PRIVATE'\n}\n\nexport interface CacheControlExtensionOptions {\n  defaultMaxAge?: number;\n}\n\ndeclare module 'graphql/type/definition' {\n  interface GraphQLResolveInfo {\n    cacheControl: {\n      setCacheHint: (hint: CacheHint) => void\n      cacheHint: CacheHint;\n    };\n  }\n}\n\nexport class CacheControlExtension<TContext = any> implements GraphQLExtension<TContext> {\n  private defaultMaxAge: number;\n\n  constructor(options: CacheControlExtensionOptions = {}) {\n    this.defaultMaxAge = options.defaultMaxAge || 0;\n  }\n\n  private hints: Map<ResponsePath, CacheHint> = new Map();\n\n  willResolveField(\n    _source: any,\n    _args: { [argName: string]: any },\n    _context: TContext,\n    info: GraphQLResolveInfo\n  ) {\n    let hint: CacheHint = {};\n\n    // If this field's resolver returns an object or interface, look for hints\n    // on that return type.\n    const targetType = getNamedType(info.returnType);\n    if (targetType instanceof GraphQLObjectType\n      || targetType instanceof GraphQLInterfaceType) {\n      if (targetType.astNode) {\n        hint = mergeHints(hint, cacheHintFromDirectives(targetType.astNode.directives));\n      }\n    }\n\n    // If this field is a field on an object, look for hints on the field\n    // itself, taking precedence over previously calculated hints.\n    const parentType = info.parentType;\n    if (parentType instanceof GraphQLObjectType) {\n      const fieldDef = parentType.getFields()[info.fieldName];\n      if (fieldDef.astNode) {\n        hint = mergeHints(hint, cacheHintFromDirectives(fieldDef.astNode.directives));\n      }\n    }\n\n    // If this resolver returns an object and we haven't seen an explicit maxAge\n    // hint, set the maxAge to 0 (uncached) or the default if specified in the\n    // constructor.  (Non-object fields by default are assumed to inherit their\n    // cacheability from their parents.)\n    if (targetType instanceof GraphQLObjectType && hint.maxAge === undefined) {\n      hint.maxAge = this.defaultMaxAge;\n    }\n\n    if (hint.maxAge !== undefined || hint.scope !== undefined) {\n      this.addHint(info.path, hint);\n    }\n\n    info.cacheControl = {\n      setCacheHint: (hint: CacheHint) => {\n        this.addHint(info.path, hint);\n      },\n      cacheHint: hint\n    }\n  }\n\n  addHint(path: ResponsePath, hint: CacheHint) {\n    const existingCacheHint = this.hints.get(path);\n    if (existingCacheHint) {\n      this.hints.set(path, mergeHints(existingCacheHint, hint));\n    } else {\n      this.hints.set(path, hint);\n    }\n  }\n\n  format(): [string, CacheControlFormat] {\n    return [\n      'cacheControl',\n      {\n        version: 1,\n        hints: Array.from(this.hints).map(([path, hint]) => ({\n          path: responsePathAsArray(path),\n          ...hint\n        }))\n      }\n    ];\n  }\n}\n\nfunction cacheHintFromDirectives(directives: DirectiveNode[] | undefined): CacheHint | undefined {\n  if (!directives) return undefined;\n\n  const cacheControlDirective = directives.find(directive => directive.name.value === 'cacheControl');\n  if (!cacheControlDirective) return undefined;\n\n  if (!cacheControlDirective.arguments) return undefined;\n\n  const maxAgeArgument = cacheControlDirective.arguments.find(argument => argument.name.value === 'maxAge');\n  const scopeArgument = cacheControlDirective.arguments.find(argument => argument.name.value === 'scope');\n\n  // TODO: Add proper typechecking of arguments\n  return {\n    maxAge:\n      maxAgeArgument && maxAgeArgument.value && maxAgeArgument.value.kind === 'IntValue'\n        ? parseInt(maxAgeArgument.value.value)\n        : undefined,\n    scope:\n      scopeArgument && scopeArgument.value && scopeArgument.value.kind === 'EnumValue'\n        ? scopeArgument.value.value as CacheScope\n        : undefined\n  };\n}\n\nfunction mergeHints(hint: CacheHint, otherHint: CacheHint | undefined): CacheHint {\n  if (!otherHint) return hint;\n\n  return {\n    maxAge: otherHint.maxAge !== undefined ? otherHint.maxAge : hint.maxAge,\n    scope: otherHint.scope || hint.scope\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"47575443bf71cf99e192607718084888","cacheData":{"env":{}}}