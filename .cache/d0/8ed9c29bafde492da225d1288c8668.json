{"id":"Pget","dependencies":[{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/runHttpQuery.js.map","includedInParent":true,"mtime":1558453009315},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/src/runHttpQuery.ts","includedInParent":true,"mtime":1558453009385},{"name":"/Users/sangho/dev/nomad/prismagram/package.json","includedInParent":true,"mtime":1558526927558},{"name":"/Users/sangho/dev/nomad/prismagram/.babelrc","includedInParent":true,"mtime":1558528163945},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/package.json","includedInParent":true,"mtime":0},{"name":"graphql","loc":{"line":48,"column":24},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/runHttpQuery.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/graphql/index.mjs"},{"name":"./runQuery","loc":{"line":49,"column":25},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/runHttpQuery.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/runQuery.js"},{"name":"./graphqlOptions","loc":{"line":50,"column":31},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/runHttpQuery.js","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-server-core/dist/graphqlOptions.js"}],"generated":{"js":"\"use strict\";var e=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function o(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),r=this&&this.__awaiter||function(e,r,t,o){return new(t||(t=Promise))(function(n,i){function a(e){try{u(o.next(e))}catch(r){i(r)}}function s(e){try{u(o.throw(e))}catch(r){i(r)}}function u(e){e.done?n(e.value):new t(function(r){r(e.value)}).then(a,s)}u((o=o.apply(e,r||[])).next())})},t=this&&this.__generator||function(e,r){var t,o,n,i,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(t=1,o&&(n=o[2&i[0]?\"return\":i[0]?\"throw\":\"next\"])&&!(n=n.call(o,i[1])).done)return n;switch(o=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){a.label=i[1];break}if(6===i[0]&&a.label<n[1]){a.label=n[1],n=i;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(i);break}n[2]&&a.ops.pop(),a.trys.pop();continue}i=r.call(e,a)}catch(s){i=[6,s],o=0}finally{t=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var o=require(\"graphql\"),n=require(\"./runQuery\"),i=require(\"./graphqlOptions\"),a=function(r){function t(e,t,o,n){void 0===o&&(o=!1);var i=r.call(this,t)||this;return i.name=\"HttpQueryError\",i.statusCode=e,i.isGraphQLError=o,i.headers=n,i}return e(t,r),t}(Error);function s(e,r){return\"query\"===o.getOperationAST(e,r).operation}function u(e,u){return r(this,void 0,void 0,function(){var r,c,l,p,f,y,h,d,w;return t(this,function(t){switch(t.label){case 0:r=!1,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i.resolveGraphqlOptions.apply(void 0,[u.options].concat(e))];case 2:return c=t.sent(),[3,4];case 3:throw l=t.sent(),new a(500,l.message);case 4:switch(p=c.formatError||o.formatError,u.method){case\"POST\":if(!u.query||0===Object.keys(u.query).length)throw new a(500,\"POST body missing. Did you forget use body-parser middleware?\");f=u.query;break;case\"GET\":if(!u.query||0===Object.keys(u.query).length)throw new a(400,\"GET query missing.\");r=!0,f=u.query;break;default:throw new a(405,\"Apollo Server supports only GET/POST requests.\",!1,{Allow:\"GET, POST\"})}return y=!0,Array.isArray(f)||(y=!1,f=[f]),h=f.map(function(e){try{var t=e.query,i=e.extensions;if(r&&i)try{i=JSON.parse(i)}catch(d){throw new a(400,\"Extensions are invalid JSON.\")}if(void 0===t&&i&&i.persistedQuery)throw new a(200,JSON.stringify({errors:[{message:\"PersistedQueryNotSupported\"}]}),!0,{\"Content-Type\":\"application/json\"});if(r){if(\"string\"==typeof t)t=o.parse(t);else if(!t)throw new a(400,\"Must provide query string.\");if(!s(t,e.operationName))throw new a(405,\"GET supports only query operation\",!1,{Allow:\"POST\"})}var u=e.operationName,l=e.variables;if(\"string\"==typeof l)try{l=JSON.parse(l)}catch(d){throw new a(400,\"Variables are invalid JSON.\")}var f=c.context||{};\"function\"==typeof f?f=f():y&&(f=Object.assign(Object.create(Object.getPrototypeOf(f)),f));var h={schema:c.schema,query:t,variables:l,context:f,rootValue:c.rootValue,operationName:u,logFunction:c.logFunction,validationRules:c.validationRules,formatError:p,formatResponse:c.formatResponse,fieldResolver:c.fieldResolver,debug:c.debug,tracing:c.tracing,cacheControl:c.cacheControl};return c.formatParams&&(h=c.formatParams(h)),n.runQuery(h)}catch(w){return\"HttpQueryError\"===w.name?Promise.reject(w):Promise.resolve({errors:[p(w)]})}}),[4,Promise.all(h)];case 5:if(d=t.sent(),!y){if((w=d[0]).errors&&void 0===w.data)throw new a(400,JSON.stringify(w),!0,{\"Content-Type\":\"application/json\"});return[2,JSON.stringify(w)]}return[2,JSON.stringify(d)]}})})}exports.HttpQueryError=a,exports.runHttpQuery=u;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":1734}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":1738}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":1740}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":1748}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":1759}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":1761}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":1769}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1783}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1785}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":1793}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1813}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1815}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1824}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":1827}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":1836}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":1838}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":1840}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1842}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":1844}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1852}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1856}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1860}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":1863}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":1866}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":1870}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":1872}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":1874}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":1879}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":1884}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":31,"column":18},"generated":{"line":1,"column":1888}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":1900}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":1902}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":32,"column":16},"generated":{"line":1,"column":1907}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":1924}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":33,"column":9},"generated":{"line":1,"column":1926}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":1937}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":1939}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":1,"column":1941}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":34,"column":26},"generated":{"line":1,"column":1956}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":35,"column":4},"generated":{"line":1,"column":1958}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":1960}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":35,"column":19},"generated":{"line":1,"column":1968}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1972}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":1979}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":1981}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":1983}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1986}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":1988}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":1,"column":1989}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":1996}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":2005}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":39,"column":26},"generated":{"line":1,"column":2007}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":39,"column":47},"generated":{"line":1,"column":2009}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":2012}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":2018}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":2028}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":40,"column":23},"generated":{"line":1,"column":2030}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":40,"column":39},"generated":{"line":1,"column":2046}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":40,"column":46},"generated":{"line":1,"column":2048}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":2051}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":1,"column":2061}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":1,"column":2070}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":2072}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":46,"column":2},"generated":{"line":1,"column":2074}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":1,"column":2187}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":2190}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":2209}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":2238}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":2239}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":1,"column":2241}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":1,"column":2243}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":47},"generated":{"line":1,"column":2265}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":47},"generated":{"line":1,"column":2276}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":47},"generated":{"line":1,"column":2278}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":2279}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":53,"column":14},"generated":{"line":1,"column":2281}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":53,"column":21},"generated":{"line":1,"column":2290}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":2297}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":4},"generated":{"line":1,"column":2316}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":2318}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":52,"column":20},"generated":{"line":1,"column":2320}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":2340}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":10},"generated":{"line":1,"column":2357}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":14},"generated":{"line":1,"column":2361}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":29},"generated":{"line":1,"column":2363}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":34},"generated":{"line":1,"column":2367}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":1,"column":2369}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":2385}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":2392}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":59,"column":24},"generated":{"line":1,"column":2394}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":59,"column":38},"generated":{"line":1,"column":2396}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":59,"column":53},"generated":{"line":1,"column":2409}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":59,"column":53},"generated":{"line":1,"column":2411}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":62,"column":10},"generated":{"line":1,"column":2423}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":2425}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":2433}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":2437}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":6},"generated":{"line":1,"column":2444}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":11},"generated":{"line":1,"column":2448}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":19},"generated":{"line":1,"column":2450}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":66},"generated":{"line":1,"column":2457}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":28},"generated":{"line":1,"column":2461}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":35},"generated":{"line":1,"column":2468}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":40},"generated":{"line":1,"column":2473}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":48},"generated":{"line":1,"column":2475}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":64,"column":55},"generated":{"line":1,"column":2482}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":65,"column":8},"generated":{"line":1,"column":2489}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":2495}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":65,"column":18},"generated":{"line":1,"column":2499}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":2501}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":2505}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":71,"column":6},"generated":{"line":1,"column":2570}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":1,"column":2572}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":71,"column":31},"generated":{"line":1,"column":2574}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":72,"column":6},"generated":{"line":1,"column":2580}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":73,"column":4},"generated":{"line":1,"column":2586}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":2590}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":6},"generated":{"line":1,"column":2596}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":2600}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":2602}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":66},"generated":{"line":1,"column":2609}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":28},"generated":{"line":1,"column":2613}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":35},"generated":{"line":1,"column":2620}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":40},"generated":{"line":1,"column":2625}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":48},"generated":{"line":1,"column":2627}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":74,"column":55},"generated":{"line":1,"column":2634}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":75,"column":8},"generated":{"line":1,"column":2641}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":1,"column":2647}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":75,"column":18},"generated":{"line":1,"column":2651}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":75,"column":33},"generated":{"line":1,"column":2653}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":75,"column":38},"generated":{"line":1,"column":2657}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":78,"column":6},"generated":{"line":1,"column":2679}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":78,"column":21},"generated":{"line":1,"column":2682}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":79,"column":6},"generated":{"line":1,"column":2684}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":79,"column":23},"generated":{"line":1,"column":2686}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":79,"column":31},"generated":{"line":1,"column":2688}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":2694}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":82,"column":4},"generated":{"line":1,"column":2700}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":2708}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":1,"column":2714}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":83,"column":16},"generated":{"line":1,"column":2718}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":2720}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":2724}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":2774}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":87,"column":8},"generated":{"line":1,"column":2776}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":2777}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":88,"column":17},"generated":{"line":1,"column":2783}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":2797}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":1,"column":2804}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":1,"column":2807}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":2809}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":2815}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":96,"column":21},"generated":{"line":1,"column":2823}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":2828}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":97,"column":14},"generated":{"line":1,"column":2831}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":2833}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":98,"column":21},"generated":{"line":1,"column":2835}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":98,"column":22},"generated":{"line":1,"column":2836}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":2840}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":101,"column":43},"generated":{"line":1,"column":2842}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":101,"column":58},"generated":{"line":1,"column":2844}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":101,"column":62},"generated":{"line":1,"column":2848}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":101,"column":62},"generated":{"line":1,"column":2857}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":102,"column":4},"generated":{"line":1,"column":2860}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":103,"column":6},"generated":{"line":1,"column":2864}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":2868}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":103,"column":18},"generated":{"line":1,"column":2870}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":103,"column":32},"generated":{"line":1,"column":2872}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":104,"column":10},"generated":{"line":1,"column":2878}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":104,"column":23},"generated":{"line":1,"column":2880}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":104,"column":37},"generated":{"line":1,"column":2882}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":2893}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":106,"column":10},"generated":{"line":1,"column":2896}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":106,"column":26},"generated":{"line":1,"column":2899}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":2901}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":111,"column":10},"generated":{"line":1,"column":2905}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":111,"column":23},"generated":{"line":1,"column":2907}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":111,"column":28},"generated":{"line":1,"column":2912}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":111,"column":34},"generated":{"line":1,"column":2918}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":112,"column":10},"generated":{"line":1,"column":2921}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":112,"column":17},"generated":{"line":1,"column":2927}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":1,"column":2930}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":113,"column":16},"generated":{"line":1,"column":2936}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":113,"column":20},"generated":{"line":1,"column":2940}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":113,"column":35},"generated":{"line":1,"column":2942}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":113,"column":40},"generated":{"line":1,"column":2946}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":2978}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":2986}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":10},"generated":{"line":1,"column":2990}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":33},"generated":{"line":1,"column":2993}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":47},"generated":{"line":1,"column":2996}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":117,"column":58},"generated":{"line":1,"column":2998}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":3013}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":122,"column":14},"generated":{"line":1,"column":3019}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":122,"column":18},"generated":{"line":1,"column":3023}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":3025}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":126,"column":10},"generated":{"line":1,"column":3029}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":3034}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":126,"column":25},"generated":{"line":1,"column":3044}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":127,"column":12},"generated":{"line":1,"column":3045}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":127,"column":20},"generated":{"line":1,"column":3052}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":128,"column":14},"generated":{"line":1,"column":3053}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":129,"column":16},"generated":{"line":1,"column":3054}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":129,"column":25},"generated":{"line":1,"column":3062}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":133,"column":10},"generated":{"line":1,"column":3096}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":134,"column":10},"generated":{"line":1,"column":3098}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":135,"column":12},"generated":{"line":1,"column":3099}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":135,"column":28},"generated":{"line":1,"column":3114}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":140,"column":6},"generated":{"line":1,"column":3135}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":3138}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":140,"column":24},"generated":{"line":1,"column":3140}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":141,"column":8},"generated":{"line":1,"column":3141}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":141,"column":29},"generated":{"line":1,"column":3144}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":141,"column":19},"generated":{"line":1,"column":3161}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":149,"column":10},"generated":{"line":1,"column":3163}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":149,"column":18},"generated":{"line":1,"column":3165}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":149,"column":18},"generated":{"line":1,"column":3167}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":149,"column":24},"generated":{"line":1,"column":3173}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":150,"column":15},"generated":{"line":1,"column":3181}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":150,"column":20},"generated":{"line":1,"column":3185}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":152,"column":10},"generated":{"line":1,"column":3187}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":152,"column":16},"generated":{"line":1,"column":3193}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":152,"column":20},"generated":{"line":1,"column":3197}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":152,"column":35},"generated":{"line":1,"column":3199}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":152,"column":40},"generated":{"line":1,"column":3203}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":155,"column":8},"generated":{"line":1,"column":3233}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":155,"column":13},"generated":{"line":1,"column":3237}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":155,"column":30},"generated":{"line":1,"column":3239}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":155,"column":37},"generated":{"line":1,"column":3241}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":155,"column":51},"generated":{"line":1,"column":3243}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":1,"column":3258}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":156,"column":16},"generated":{"line":1,"column":3264}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":156,"column":20},"generated":{"line":1,"column":3268}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":157,"column":12},"generated":{"line":1,"column":3270}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":158,"column":12},"generated":{"line":1,"column":3274}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":159,"column":12},"generated":{"line":1,"column":3311}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":160,"column":12},"generated":{"line":1,"column":3313}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":161,"column":14},"generated":{"line":1,"column":3314}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":161,"column":21},"generated":{"line":1,"column":3320}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":167,"column":6},"generated":{"line":1,"column":3329}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":167,"column":12},"generated":{"line":1,"column":3333}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":167,"column":28},"generated":{"line":1,"column":3335}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":167,"column":42},"generated":{"line":1,"column":3337}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":169,"column":10},"generated":{"line":1,"column":3351}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":169,"column":22},"generated":{"line":1,"column":3353}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":169,"column":36},"generated":{"line":1,"column":3355}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":3365}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":170,"column":31},"generated":{"line":1,"column":3368}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":170,"column":17},"generated":{"line":1,"column":3385}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":1,"column":3387}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":175,"column":10},"generated":{"line":1,"column":3391}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":175,"column":22},"generated":{"line":1,"column":3393}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":175,"column":27},"generated":{"line":1,"column":3398}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":175,"column":33},"generated":{"line":1,"column":3404}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":176,"column":10},"generated":{"line":1,"column":3407}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":176,"column":17},"generated":{"line":1,"column":3413}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":177,"column":10},"generated":{"line":1,"column":3416}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":177,"column":16},"generated":{"line":1,"column":3422}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":177,"column":20},"generated":{"line":1,"column":3426}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":177,"column":35},"generated":{"line":1,"column":3428}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":177,"column":40},"generated":{"line":1,"column":3432}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":181,"column":6},"generated":{"line":1,"column":3463}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":181,"column":10},"generated":{"line":1,"column":3467}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":181,"column":20},"generated":{"line":1,"column":3469}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":181,"column":34},"generated":{"line":1,"column":3471}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":181,"column":45},"generated":{"line":1,"column":3480}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":182,"column":29},"generated":{"line":1,"column":3483}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":182,"column":17},"generated":{"line":1,"column":3502}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":1,"column":3504}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":183,"column":18},"generated":{"line":1,"column":3506}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":184,"column":17},"generated":{"line":1,"column":3510}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":185,"column":8},"generated":{"line":1,"column":3514}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":185,"column":18},"generated":{"line":1,"column":3516}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":185,"column":25},"generated":{"line":1,"column":3523}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":1,"column":3530}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":186,"column":17},"generated":{"line":1,"column":3537}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":186,"column":24},"generated":{"line":1,"column":3544}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":186,"column":31},"generated":{"line":1,"column":3551}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":186,"column":46},"generated":{"line":1,"column":3566}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":187,"column":10},"generated":{"line":1,"column":3570}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":191,"column":6},"generated":{"line":1,"column":3574}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":191,"column":10},"generated":{"line":1,"column":3578}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":191,"column":19},"generated":{"line":1,"column":3580}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":1,"column":3581}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":192,"column":16},"generated":{"line":1,"column":3588}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":192,"column":30},"generated":{"line":1,"column":3590}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":193,"column":8},"generated":{"line":1,"column":3597}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":193,"column":15},"generated":{"line":1,"column":3603}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":194,"column":8},"generated":{"line":1,"column":3605}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":194,"column":19},"generated":{"line":1,"column":3615}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":195,"column":8},"generated":{"line":1,"column":3617}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":195,"column":15},"generated":{"line":1,"column":3625}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":196,"column":8},"generated":{"line":1,"column":3627}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":196,"column":19},"generated":{"line":1,"column":3637}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":196,"column":33},"generated":{"line":1,"column":3639}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":197,"column":8},"generated":{"line":1,"column":3649}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":197,"column":23},"generated":{"line":1,"column":3663}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":198,"column":8},"generated":{"line":1,"column":3665}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":198,"column":21},"generated":{"line":1,"column":3677}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":198,"column":35},"generated":{"line":1,"column":3679}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":199,"column":8},"generated":{"line":1,"column":3691}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":199,"column":25},"generated":{"line":1,"column":3707}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":199,"column":39},"generated":{"line":1,"column":3709}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":200,"column":8},"generated":{"line":1,"column":3725}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":200,"column":21},"generated":{"line":1,"column":3737}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":201,"column":8},"generated":{"line":1,"column":3739}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":201,"column":24},"generated":{"line":1,"column":3754}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":201,"column":38},"generated":{"line":1,"column":3756}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":202,"column":8},"generated":{"line":1,"column":3771}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":202,"column":23},"generated":{"line":1,"column":3785}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":202,"column":37},"generated":{"line":1,"column":3787}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":203,"column":8},"generated":{"line":1,"column":3801}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":203,"column":15},"generated":{"line":1,"column":3807}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":203,"column":29},"generated":{"line":1,"column":3809}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":204,"column":8},"generated":{"line":1,"column":3815}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":204,"column":17},"generated":{"line":1,"column":3823}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":204,"column":31},"generated":{"line":1,"column":3825}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":205,"column":8},"generated":{"line":1,"column":3833}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":205,"column":22},"generated":{"line":1,"column":3846}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":205,"column":36},"generated":{"line":1,"column":3848}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":212,"column":6},"generated":{"line":1,"column":3862}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":208,"column":10},"generated":{"line":1,"column":3869}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":208,"column":24},"generated":{"line":1,"column":3871}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":209,"column":8},"generated":{"line":1,"column":3886}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":209,"column":17},"generated":{"line":1,"column":3888}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":209,"column":31},"generated":{"line":1,"column":3890}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":209,"column":44},"generated":{"line":1,"column":3903}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":212,"column":13},"generated":{"line":1,"column":3907}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":212,"column":13},"generated":{"line":1,"column":3909}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":212,"column":22},"generated":{"line":1,"column":3918}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":213,"column":6},"generated":{"line":1,"column":3921}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":213,"column":13},"generated":{"line":1,"column":3927}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":3930}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":216,"column":21},"generated":{"line":1,"column":3936}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":216,"column":10},"generated":{"line":1,"column":3955}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":216,"column":12},"generated":{"line":1,"column":3957}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":217,"column":15},"generated":{"line":1,"column":3962}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":217,"column":23},"generated":{"line":1,"column":3970}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":217,"column":30},"generated":{"line":1,"column":3977}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":13},"generated":{"line":1,"column":3980}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":21},"generated":{"line":1,"column":3988}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":29},"generated":{"line":1,"column":3996}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":31},"generated":{"line":1,"column":3997}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":39},"generated":{"line":1,"column":4004}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":40},"generated":{"line":1,"column":4005}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":220,"column":54},"generated":{"line":1,"column":4007}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":4016}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":4017}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":26},"generated":{"line":1,"column":4019}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":34},"generated":{"line":1,"column":4027}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":38},"generated":{"line":1,"column":4031}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":225,"column":2},"generated":{"line":1,"column":4042}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":8},"generated":{"line":1,"column":4045}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":4047}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":4049}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":225,"column":7},"generated":{"line":1,"column":4057}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":225,"column":16},"generated":{"line":1,"column":4059}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":227,"column":4},"generated":{"line":1,"column":4060}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":226,"column":10},"generated":{"line":1,"column":4064}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":226,"column":24},"generated":{"line":1,"column":4066}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":226,"column":34},"generated":{"line":1,"column":4068}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":227,"column":20},"generated":{"line":1,"column":4072}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":227,"column":58},"generated":{"line":1,"column":4085}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":227,"column":37},"generated":{"line":1,"column":4089}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":227,"column":49},"generated":{"line":1,"column":4091}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":6},"generated":{"line":1,"column":4096}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":12},"generated":{"line":1,"column":4102}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":16},"generated":{"line":1,"column":4106}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":31},"generated":{"line":1,"column":4108}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":36},"generated":{"line":1,"column":4112}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":41},"generated":{"line":1,"column":4117}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":51},"generated":{"line":1,"column":4127}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":65},"generated":{"line":1,"column":4131}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":228,"column":71},"generated":{"line":1,"column":4133}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":229,"column":8},"generated":{"line":1,"column":4134}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":229,"column":24},"generated":{"line":1,"column":4149}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":1,"column":4170}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":1,"column":4176}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":1,"column":4177}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":11},"generated":{"line":1,"column":4179}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":16},"generated":{"line":1,"column":4184}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":232,"column":26},"generated":{"line":1,"column":4194}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":1,"column":4198}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":1,"column":4204}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":1,"column":4205}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":9},"generated":{"line":1,"column":4207}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":14},"generated":{"line":1,"column":4212}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":235,"column":24},"generated":{"line":1,"column":4222}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":4231}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":4239}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":20,"column":13},"generated":{"line":1,"column":4254}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":1,"column":4256}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":1,"column":4264}},{"source":"../src/runHttpQuery.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":1,"column":4277}}],"sources":{"../src/runHttpQuery.ts":"import {\n  parse,\n  getOperationAST,\n  DocumentNode,\n  formatError,\n  ExecutionResult,\n} from 'graphql';\nimport { runQuery } from './runQuery';\nimport {\n  default as GraphQLOptions,\n  resolveGraphqlOptions,\n} from './graphqlOptions';\n\nexport interface HttpQueryRequest {\n  method: string;\n  query: Record<string, any>;\n  options: GraphQLOptions | Function;\n}\n\nexport class HttpQueryError extends Error {\n  public statusCode: number;\n  public isGraphQLError: boolean;\n  public headers: { [key: string]: string };\n\n  constructor(\n    statusCode: number,\n    message: string,\n    isGraphQLError: boolean = false,\n    headers?: { [key: string]: string },\n  ) {\n    super(message);\n    this.name = 'HttpQueryError';\n    this.statusCode = statusCode;\n    this.isGraphQLError = isGraphQLError;\n    this.headers = headers;\n  }\n}\n\nfunction isQueryOperation(query: DocumentNode, operationName: string) {\n  const operationAST = getOperationAST(query, operationName);\n  return operationAST.operation === 'query';\n}\n\nexport async function runHttpQuery(\n  handlerArguments: Array<any>,\n  request: HttpQueryRequest,\n): Promise<string> {\n  let isGetRequest: boolean = false;\n  let optionsObject: GraphQLOptions;\n\n  try {\n    optionsObject = await resolveGraphqlOptions(\n      request.options,\n      ...handlerArguments,\n    );\n  } catch (e) {\n    throw new HttpQueryError(500, e.message);\n  }\n  const formatErrorFn = optionsObject.formatError || formatError;\n  let requestPayload;\n\n  switch (request.method) {\n    case 'POST':\n      if (!request.query || Object.keys(request.query).length === 0) {\n        throw new HttpQueryError(\n          500,\n          'POST body missing. Did you forget use body-parser middleware?',\n        );\n      }\n\n      requestPayload = request.query;\n      break;\n    case 'GET':\n      if (!request.query || Object.keys(request.query).length === 0) {\n        throw new HttpQueryError(400, 'GET query missing.');\n      }\n\n      isGetRequest = true;\n      requestPayload = request.query;\n      break;\n\n    default:\n      throw new HttpQueryError(\n        405,\n        'Apollo Server supports only GET/POST requests.',\n        false,\n        {\n          Allow: 'GET, POST',\n        },\n      );\n  }\n\n  let isBatch = true;\n  // TODO: do something different here if the body is an array.\n  // Throw an error if body isn't either array or object.\n  if (!Array.isArray(requestPayload)) {\n    isBatch = false;\n    requestPayload = [requestPayload];\n  }\n\n  const requests: Array<ExecutionResult> = requestPayload.map(requestParams => {\n    try {\n      let query = requestParams.query;\n      let extensions = requestParams.extensions;\n\n      if (isGetRequest && extensions) {\n        // For GET requests, we have to JSON-parse extensions. (For POST\n        // requests they get parsed as part of parsing the larger body they're\n        // inside.)\n        try {\n          extensions = JSON.parse(extensions);\n        } catch (error) {\n          throw new HttpQueryError(400, 'Extensions are invalid JSON.');\n        }\n      }\n\n      if (query === undefined && extensions && extensions.persistedQuery) {\n        // It looks like we've received an Apollo Persisted Query. Apollo Server\n        // does not support persisted queries out of the box, so we should fail\n        // fast with a clear error saying that we don't support APQs. (A future\n        // version of Apollo Server may support APQs directly.)\n        throw new HttpQueryError(\n          // Return 200 to simplify processing: we want this to be intepreted by\n          // the client as data worth interpreting, not an error.\n          200,\n          JSON.stringify({\n            errors: [\n              {\n                message: 'PersistedQueryNotSupported',\n              },\n            ],\n          }),\n          true,\n          {\n            'Content-Type': 'application/json',\n          },\n        );\n      }\n\n      if (isGetRequest) {\n        if (typeof query === 'string') {\n          // preparse the query incase of GET so we can assert the operation.\n          // XXX This makes the type of 'query' in this function confused\n          //     which has led to us accidentally supporting GraphQL AST over\n          //     the wire as a valid query, which confuses users. Refactor to\n          //     not do this. Also, for a GET request, query really shouldn't\n          //     ever be anything other than a string or undefined, so this\n          //     set of conditionals doesn't quite make sense.\n          query = parse(query);\n        } else if (!query) {\n          // Note that we've already thrown a different error if it looks like APQ.\n          throw new HttpQueryError(400, 'Must provide query string.');\n        }\n\n        if (!isQueryOperation(query, requestParams.operationName)) {\n          throw new HttpQueryError(\n            405,\n            `GET supports only query operation`,\n            false,\n            {\n              Allow: 'POST',\n            },\n          );\n        }\n      }\n\n      const operationName = requestParams.operationName;\n\n      let variables = requestParams.variables;\n      if (typeof variables === 'string') {\n        try {\n          // XXX Really we should only do this for GET requests, but for\n          // compatibility reasons we'll keep doing this at least for now for\n          // broken clients that ship variables in a string for no good reason.\n          variables = JSON.parse(variables);\n        } catch (error) {\n          throw new HttpQueryError(400, 'Variables are invalid JSON.');\n        }\n      }\n\n      let context = optionsObject.context || {};\n      if (typeof context === 'function') {\n        context = context();\n      } else if (isBatch) {\n        context = Object.assign(\n          Object.create(Object.getPrototypeOf(context)),\n          context,\n        );\n      }\n\n      let params = {\n        schema: optionsObject.schema,\n        query: query,\n        variables: variables,\n        context,\n        rootValue: optionsObject.rootValue,\n        operationName: operationName,\n        logFunction: optionsObject.logFunction,\n        validationRules: optionsObject.validationRules,\n        formatError: formatErrorFn,\n        formatResponse: optionsObject.formatResponse,\n        fieldResolver: optionsObject.fieldResolver,\n        debug: optionsObject.debug,\n        tracing: optionsObject.tracing,\n        cacheControl: optionsObject.cacheControl,\n      };\n\n      if (optionsObject.formatParams) {\n        params = optionsObject.formatParams(params);\n      }\n\n      return runQuery(params);\n    } catch (e) {\n      // Populate any HttpQueryError to our handler which should\n      // convert it to Http Error.\n      if (e.name === 'HttpQueryError') {\n        return Promise.reject(e);\n      }\n\n      return Promise.resolve({ errors: [formatErrorFn(e)] });\n    }\n  });\n  const responses = await Promise.all(requests);\n\n  if (!isBatch) {\n    const gqlResponse = responses[0];\n    if (gqlResponse.errors && typeof gqlResponse.data === 'undefined') {\n      throw new HttpQueryError(400, JSON.stringify(gqlResponse), true, {\n        'Content-Type': 'application/json',\n      });\n    }\n    return JSON.stringify(gqlResponse);\n  }\n\n  return JSON.stringify(responses);\n}\n"},"lineCount":null}},"error":null,"hash":"0434a3002687c6ed69a462b4ac26759a","cacheData":{"env":{}}}