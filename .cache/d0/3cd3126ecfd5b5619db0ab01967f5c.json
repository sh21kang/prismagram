{"id":"JDj3","dependencies":[{"name":"/Users/sangho/dev/nomad/prismagram/package.json","includedInParent":true,"mtime":1558526927558},{"name":"/Users/sangho/dev/nomad/prismagram/.babelrc","includedInParent":true,"mtime":1558528163945},{"name":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-upload-server/package.json","includedInParent":true,"mtime":499162500000},{"name":"./processRequest","loc":{"line":1,"column":31},"parent":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","resolved":"/Users/sangho/dev/nomad/prismagram/node_modules/apollo-upload-server/lib/processRequest.mjs"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.apolloUploadExpress=void 0;var e=require(\"./processRequest\"),t=function(t){return function(n,s,o){if(!n.is(\"multipart/form-data\"))return o();var r=new Promise(function(e){return n.on(\"end\",e)}),u=s.send;s.send=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.then(function(){s.send=u,s.send.apply(s,t)})},(0,e.processRequest)(n,s,t).then(function(e){n.body=e,o()}).catch(function(e){e.status&&e.expose&&s.status(e.status),o(e)})}};exports.apolloUploadExpress=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":0}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":13}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":20}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":35}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":43}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":56}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":57}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":64}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":68}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":76}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":101}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":1,"column":0},"generated":{"line":1,"column":117}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"apolloUploadExpress","original":{"line":2,"column":13},"generated":{"line":1,"column":137}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":35},"generated":{"line":1,"column":139}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"options","original":{"line":2,"column":35},"generated":{"line":1,"column":148}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":46},"generated":{"line":1,"column":151}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":46},"generated":{"line":1,"column":158}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":2,"column":47},"generated":{"line":1,"column":167}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":2,"column":56},"generated":{"line":1,"column":169}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"next","original":{"line":2,"column":66},"generated":{"line":1,"column":171}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":3,"column":6},"generated":{"line":1,"column":174}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":3,"column":7},"generated":{"line":1,"column":178}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"is","original":{"line":3,"column":15},"generated":{"line":1,"column":180}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":3,"column":18},"generated":{"line":1,"column":183}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":3,"column":42},"generated":{"line":1,"column":206}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"next","original":{"line":3,"column":49},"generated":{"line":1,"column":213}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"finished","original":{"line":4,"column":8},"generated":{"line":1,"column":217}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"finished","original":{"line":4,"column":8},"generated":{"line":1,"column":221}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":4,"column":19},"generated":{"line":1,"column":223}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"Promise","original":{"line":4,"column":23},"generated":{"line":1,"column":227}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":4,"column":31},"generated":{"line":1,"column":235}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"resolve","original":{"line":4,"column":31},"generated":{"line":1,"column":244}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":4,"column":42},"generated":{"line":1,"column":247}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":4,"column":42},"generated":{"line":1,"column":254}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"on","original":{"line":4,"column":50},"generated":{"line":1,"column":256}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":4,"column":53},"generated":{"line":1,"column":259}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"resolve","original":{"line":4,"column":60},"generated":{"line":1,"column":265}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":5,"column":10},"generated":{"line":1,"column":270}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":5,"column":19},"generated":{"line":1,"column":272}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":5,"column":10},"generated":{"line":1,"column":274}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":7,"column":2},"generated":{"line":1,"column":279}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":7,"column":11},"generated":{"line":1,"column":281}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":18},"generated":{"line":1,"column":286}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":297}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":301}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":305}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":307}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":317}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":324}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":326}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":330}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":336}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":339}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":341}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":343}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":345}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":347}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":7,"column":22},"generated":{"line":1,"column":351}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":353}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":356}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":7,"column":31},"generated":{"line":1,"column":366}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"finished","original":{"line":8,"column":4},"generated":{"line":1,"column":369}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"then","original":{"line":8,"column":13},"generated":{"line":1,"column":371}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":8,"column":18},"generated":{"line":1,"column":376}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":9,"column":6},"generated":{"line":1,"column":387}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":9,"column":15},"generated":{"line":1,"column":389}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":9,"column":22},"generated":{"line":1,"column":394}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":10,"column":6},"generated":{"line":1,"column":396}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"send","original":{"line":10,"column":15},"generated":{"line":1,"column":398}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":10,"column":6},"generated":{"line":1,"column":403}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":10,"column":6},"generated":{"line":1,"column":409}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"args","original":{"line":10,"column":23},"generated":{"line":1,"column":411}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":14,"column":17},"generated":{"line":1,"column":418}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":14,"column":17},"generated":{"line":1,"column":420}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":14,"column":17},"generated":{"line":1,"column":422}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":14,"column":17},"generated":{"line":1,"column":438}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":14,"column":26},"generated":{"line":1,"column":440}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"options","original":{"line":14,"column":36},"generated":{"line":1,"column":442}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"then","original":{"line":15,"column":5},"generated":{"line":1,"column":445}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":15,"column":10},"generated":{"line":1,"column":450}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"body","original":{"line":15,"column":10},"generated":{"line":1,"column":459}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"request","original":{"line":16,"column":6},"generated":{"line":1,"column":462}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"body","original":{"line":16,"column":14},"generated":{"line":1,"column":464}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"body","original":{"line":16,"column":21},"generated":{"line":1,"column":469}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"next","original":{"line":17,"column":6},"generated":{"line":1,"column":471}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"catch","original":{"line":19,"column":5},"generated":{"line":1,"column":477}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":19,"column":11},"generated":{"line":1,"column":483}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"error","original":{"line":19,"column":11},"generated":{"line":1,"column":492}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"error","original":{"line":20,"column":10},"generated":{"line":1,"column":495}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"status","original":{"line":20,"column":16},"generated":{"line":1,"column":497}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"error","original":{"line":20,"column":26},"generated":{"line":1,"column":505}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"expose","original":{"line":20,"column":32},"generated":{"line":1,"column":507}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"response","original":{"line":20,"column":40},"generated":{"line":1,"column":515}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"status","original":{"line":20,"column":49},"generated":{"line":1,"column":517}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"error","original":{"line":20,"column":56},"generated":{"line":1,"column":524}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"status","original":{"line":20,"column":62},"generated":{"line":1,"column":526}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"next","original":{"line":21,"column":6},"generated":{"line":1,"column":534}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","name":"error","original":{"line":21,"column":11},"generated":{"line":1,"column":536}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":543}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":551}},{"source":"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs","original":{"line":2,"column":7},"generated":{"line":1,"column":571}}],"sources":{"../node_modules/apollo-upload-server/lib/apolloUploadExpress.mjs":"import { processRequest } from './processRequest'\nexport const apolloUploadExpress = options => (request, response, next) => {\n  if (!request.is('multipart/form-data')) return next()\n  const finished = new Promise(resolve => request.on('end', resolve))\n  const { send } = response\n\n  response.send = (...args) => {\n    finished.then(() => {\n      response.send = send\n      response.send(...args)\n    })\n  }\n\n  processRequest(request, response, options)\n    .then(body => {\n      request.body = body\n      next()\n    })\n    .catch(error => {\n      if (error.status && error.expose) response.status(error.status)\n      next(error)\n    })\n}\n"},"lineCount":null}},"error":null,"hash":"81354e88be3da4c7f8f231f1f9bda850","cacheData":{"env":{}}}